<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta name="robots" content="noindex, nofollow">
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>강동민 3D Environment Art 포트폴리오</title>
	<script src="https://cdn.tailwindcss.com"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
      <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
      <style>
         body {
         background-color: #ffffff;
         color: #333333;
         font-family: 'Inter', 'Noto Sans KR', sans-serif;
         padding-top: 0 !important;
         }
         .container {
         max-width: 960px;
         margin: 0 auto;
         padding: 1rem 2.5rem 2.5rem 2.5rem;
         line-height: 1.6;
         background-color: #ffffff;
         border-radius: 1rem;
         }
         .section-title {
         font-size: 1.25rem;
         font-weight: 700;
         color: #1f2937;
         border-bottom: 2px solid #e5e7eb;
         padding-bottom: 0.75rem;
         margin-top: 0;
         margin-bottom: 1.25rem;
         }
         .skills-tag {
         background-color: #e5e7eb;
         color: #4b5563;
         padding: 0.25rem 0.625rem;
         border-radius: 0.5rem;
         font-size: 0.8rem;
         font-weight: 500;
         }
         @keyframes fadeIn {
         from {
         opacity: 0;
         transform: translateY(5px);
         }
         to {
         opacity: 1;
         transform: translateY(0);
         }
         }
         /* 프로젝트 카드 스타일 */
         .project-card {
         cursor: pointer;
         transition: transform 0.2s ease, box-shadow 0.2s ease;
         border: 1px solid #e5e7eb;
         border-radius: 0.75rem;
         overflow: hidden;
         background: #f9fafb;
         }
         .project-card:hover {
         transform: translateY(-4px);
         box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
         border-color: #9ca3af;
         }
         /* 상세 페이지 스타일 */
         #portfolio-detail {
         display: none;
         animation: fadeIn 0.3s ease-in-out;
         }
         /* 이미지 및 동영상 그리드 스타일 */
         .detail-image, .detail-video {
         display: block;
         width: 100%;
         margin-bottom: 1rem;
         break-inside: avoid; /* 요소가 잘리지 않도록 방지 */
         }
		.detail-image {
					 display: block;
					 width: 100%;
					 height: auto; /* 이미지가 위아래로 찌그러지거나 늘어나는 것 방지 */
					 margin-bottom: 1rem;
					 break-inside: avoid; /* 요소가 잘리지 않도록 방지 */
					 /* 'all' 대신 색상(filter)과 투명도(opacity)만 부드럽게 변하도록 콕 집어 설정! */
					 transition: filter 0.3s ease, opacity 0.4s ease-in-out !important; 
					 filter: brightness(0.9); 
				 }
         .detail-image:hover {
         filter: brightness(1.1); /* 마우스를 올리면 밝게 */
         cursor: pointer;
         }
         .detail-video {
         width: 100%;
         max-height: 50vh;
         object-fit: contain; /* contain 영상 전체 다 보임 cover 위 아래 잘림 */
         border-radius: 0.5rem;
         box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
         background-color: #000000; /* 영상 비율 때문에 남는 빈 공간을 자연스러운 검은색 레터박스로 채웁니다 */
         outline: none;
         }
         /* 모바일 외의 화면에서 동영상을 더 강조하고 싶다면 */
         @media (min-width: 640px) {
         .video-wide {
         grid-column: span 2; /* 가로/세로 상관없이 영상은 2칸 차지하여 크게 보기 */
         }
         }
         .back-btn {
         display: inline-flex;
         align-items: center;
         gap: 0.5rem;
         padding: 0.5rem 1rem;
         background-color: #f3f4f6;
         color: #374151;
         border-radius: 0.5rem;
         font-weight: 600;
         font-size: 0.875rem;
         transition: background 0.2s;
         cursor: pointer;
         }
         .back-btn:hover {
         background-color: #e5e7eb;
         }
         /* 이미지 모달 (확대 보기) 스타일 */
         #image-modal {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.95);
         z-index: 100;
         justify-content: center;
         align-items: center;
         animation: fadeIn 0.2s ease-out;
         }
         #modal-image {
         max-width: 90%;
         max-height: 85vh;
         border-radius: 2px;
         box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
         object-fit: contain;
         filter: url(#strong-sharpen) contrast(1.05) saturate(1.05);
         image-rendering: -webkit-optimize-contrast;
		 transition: opacity 0.2s ease-in-out;
         }
         /* 모달 네비게이션 버튼 */
         .modal-nav-btn {
         position: absolute;
         top: 50%;
         transform: translateY(-50%);
         background-color: rgba(255, 255, 255, 0.1);
         color: white;
         border: none;
         padding: 1.5rem 1rem;
         cursor: pointer;
         border-radius: 8px;
         transition: background 0.3s;
         z-index: 110;
         font-size: 1.5rem;
         user-select: none;
         }
         .modal-nav-btn:hover {
         background-color: rgba(255, 255, 255, 0.3);
         }
         .modal-prev {
         left: 20px;
         }
         .modal-next {
         right: 20px;
         }
         /* 모달 닫기 버튼 */
         .modal-close {
         position: absolute;
         top: 20px;
         right: 30px;
         color: white;
         font-size: 2.5rem;
         cursor: pointer;
         z-index: 110;
         opacity: 0.8;
         transition: opacity 0.2s;
         }
         .modal-close:hover {
         opacity: 1;
         }
         /* 설명 섹션 스타일 */
         .project-section-text {
         grid-column: 1 / -1;
         padding: 2rem 0.5rem 1rem 0.5rem;
         border-top: 1px solid #f3f4f6;
         margin-top: 1rem;
         }
         .project-section-text:first-child {
         border-top: none;
         margin-top: 0;
         padding-top: 0;
         }
         .section-head {
         font-size: 1.25rem;
         font-weight: 700;
         color: #111827;
         margin-bottom: 0.5rem;
         }
         .section-sub {
         font-size: 0.95rem;
         color: #4b5563;
         margin-bottom: 1rem;
         font-weight: 500;
         }
         .tech-list {
         list-style: none;
         padding: 0;
         margin: 0;
         }
         .tech-list li {
         position: relative;
         padding-left: 1rem;
         margin-bottom: 0.5rem;
         font-size: 0.9rem;
         color: #4b5563;
         line-height: 1.6;
         }
         .tech-list li::before {
         content: "•";
         position: absolute;
         left: 0;
         color: #3b82f6;
         font-weight: bold;
         }
         .tech-term {
         font-weight: 700;
         color: #374151;
         margin-right: 0.3rem;
         }
		 
/* --- 모바일 화면 최적화 --- */
         @media (max-width: 639px) {
             /* 1. 드래그 시 통통 튀는 현상(바운스 스크롤) 제거 */
             html, body {
                 overscroll-behavior-y: none;
             }
             /* 2. 전체 여백 제거 (검은색 화면 꽉 차게) */
             body {
                 padding: 0 !important;
             }
             .container {
                 padding: 0 !important;
                 border-radius: 0 !important;
             }
             /* 리스트 화면에서는 기본 여백 유지 */
             #portfolio-list {
                 padding: 1rem 1.25rem;
             }
             /* 상세 페이지 상단(뒤로가기) 여백 조정 */
             #portfolio-detail .py-4.border-b {
                 padding: 1rem 1.25rem;
                 margin-bottom: 0;
                 border-bottom: none;
             }
             /* 3. 모바일에서 동영상 완전 숨김 */
             .detail-video {
                 display: none !important;
             }
			 /* 모바일 다크 모드 (배경 검은색, 글자 흰색 통일) */
             body, .container {
                 background-color: #000000 !important;
                 color: #ffffff !important;
             }
             .section-title {
                 color: #ffffff !important;
                 border-bottom-color: #333333 !important;
             }
             .project-card {
                 background-color: #111111 !important;
                 border-color: #333333 !important;
             }
             .project-card h3 {
                 color: #ffffff !important;
             }
             .back-btn {
                 background-color: #222222 !important;
                 color: #ffffff !important;
             }
             #detail-title, .section-head, .tech-term {
                 color: #ffffff !important;
             }
             .section-sub, .tech-list li {
                 color: #aaaaaa !important;
             }
         }
		 
/* --- Swiper 갤러리 스타일 --- */
         .swiper {
             width: 100%;
             height: 100%;
         }
         .swiper-slide {
             text-align: center;
             font-size: 18px;
             background: transparent; /* 배경 투명하게 */
             display: flex;
             justify-content: center;
             align-items: center;
         }
         .swiper-slide img {
             display: block;
             width: auto;
             height: auto;
             max-width: 100%;
             max-height: 90vh; /* 상하 여백 확보 */
             object-fit: contain;
             border-radius: 2px;
             box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
             /* 기존 필터 유지 */
             filter: url(#strong-sharpen) contrast(1.05) saturate(1.05);
             image-rendering: -webkit-optimize-contrast;
         }
         /* 기본 화살표 색상 흰색으로 변경 */
         .swiper-button-next, .swiper-button-prev {
             color: #ffffff !important;
         }
         /* 페이지네이션 점 색상 변경 */
         .swiper-pagination-bullet-active {
             background: #ffffff !important;
         }
		 
		 
      </style>
   </head>
   <body class="sm:p-8">
      <svg style="display: none;">
         <defs>
            <filter id="strong-sharpen">
               <feConvolveMatrix order="3" kernelMatrix="0 -1 0 -1 13 -1 0 -1 0" divisor="9" />
            </filter>
         </defs>
      </svg>
      <div id="portfolio">
         <main class="container">
            <div id="portfolio-list">
               <h2 class="section-title">Projects</h2>
               <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                  <article class="project-card" onclick="showProjectDetail('VALHALLA SURVIVAL', 'Lionheart Studio - 발할라 서바이벌')" onmouseenter="preloadProjectImages('VALHALLA SURVIVAL')">
                     <img src="./0_Thumnail/VALHALLA_SURVIVAL.jpg" alt="발할라 서바이벌" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">Lionheart Studio</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">발할라 서바이벌</h3>
                        <p class="text-xs text-gray-500 mb-3">2023.01 ~ Present | AD / 배경팀장</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">UE5 / Sequencer</span>
                           <span class="skills-tag">Blender</span>
                           <span class="skills-tag">Rizom</span>
                           <span class="skills-tag">Substance Painter / Designer</span>
                           <span class="skills-tag">Marmoset</span>
                           <span class="skills-tag">Houdini</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4 mb-4">
                           <li>인게임 레벨 구성 및 시네마틱 연출 라이팅, 시퀀스 작업</li>
                           <li>인/아웃게임 레벨 구성, 환경 라이팅</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('MIGALOO', 'KRAFTON - MIGALOO')" onmouseenter="preloadProjectImages('MIGALOO')">
                     <img src="./0_Thumnail/MIGALOO.jpg" alt="MIGALOO" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">KRAFTON</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">MIGALOO</h3>
                        <p class="text-xs text-gray-500 mb-3">2020.05 ~ 2022.12 | 팀원</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">UE5 / Terrain</span>
                           <span class="skills-tag">Blender</span>
                           <span class="skills-tag">Substance Painter / Designer</span>
                           <span class="skills-tag">Quixel Mixer</span>
                           <span class="skills-tag">Marmoset</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>월드 조경 및 에셋 배치</li>
                           <li>배경 리소스 제작 및 최적화</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('PUBG NEW STATE', 'KRAFTON - PUBG: NEW STATE')" onmouseenter="preloadProjectImages('PUBG NEW STATE')">
                     <img src="./0_Thumnail/PUBG_NEW_STATE.jpg" alt="PUBG: NEW STATE" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">KRAFTON</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">PUBG: NEW STATE</h3>
                        <p class="text-xs text-gray-500 mb-3">2020.05 ~ 2022.12 | 팀원</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">UE4</span>
                           <span class="skills-tag">Blender</span>
                           <span class="skills-tag">Substance Painter / Designer</span>
                           <span class="skills-tag">Quixel Mixer</span>
                           <span class="skills-tag">Marmoset</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>월드 조경 및 에셋 배치</li>
                           <li>배경 리소스 제작 및 최적화</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('PLAN 8', 'PEARL ABYSS - PLAN 8')" onmouseenter="preloadProjectImages('PLAN 8')">
                     <img src="./0_Thumnail/PLAN_8.jpg" alt="PLAN 8" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">PEARL ABYSS</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">PLAN 8</h3>
                        <p class="text-xs text-gray-500 mb-3">2018.11 ~ 2020.03 | 팀원</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">In-house Engine</span>
                           <span class="skills-tag">3dsmax</span>
                           <span class="skills-tag">Substance Painter / Designer</span>
                           <span class="skills-tag">Quixel Mixer</span>
                           <span class="skills-tag">Speed Tree</span>
                           <span class="skills-tag">Marmoset</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>컷씬 배경 구성 및 환경 라이팅</li>
                           <li>월드 터레인 구성 및 배경 리소스 제작</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('FOCUS ON YOU', 'SMILEGATE - FOCUS ON YOU (VR)')" onmouseenter="preloadProjectImages('FOCUS ON YOU')">
                     <img src="./0_Thumnail/FOCUS_ON_YOU.jpg" alt="FOCUS ON YOU (VR)" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">SMILEGATE</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">FOCUS ON YOU (VR)</h3>
                        <p class="text-xs text-gray-500 mb-3">2017.05 ~ 2018.10 | 부책임</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">UE4</span>
                           <span class="skills-tag">3dsmax</span>
                           <span class="skills-tag">Photoshop</span>
                           <span class="skills-tag">Substance Painter / Designer</span>
                           <span class="skills-tag">Marmoset</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>배경 에셋 제작</li>
                           <li>배경 레벨 구성, 환경 라이팅</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('Personal Works', 'Personal Works')" onmouseenter="preloadProjectImages('Personal Works')">
                     <div class="aspect-video bg-gray-200 flex items-center justify-center text-gray-400 font-bold">CLICK TO VIEW IMAGES</div>
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">Personal Works</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">개인 작업</h3>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">3dsmax</span>
                           <span class="skills-tag">Photoshop</span>
                           <span class="skills-tag">Substance Painter</span>
                        </div>
                        <p class="text-xs text-gray-500 mb-3">2016 | 팀원</p>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>에셋 제작</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('ULTIMATE RACE', 'KOG - ULTIMATE RACE')" onmouseenter="preloadProjectImages('ULTIMATE RACE')">
                     <img src="./0_Thumnail/ULTIMATE_RACE.jpg" alt="ULTIMATE RACE" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">KOG</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">ULTIMATE RACE</h3>
                        <p class="text-xs text-gray-500 mb-3">2010.10 ~ 2017.04 | 팀원</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">In-house Engine</span>
                           <span class="skills-tag">3dsmax</span>
                           <span class="skills-tag">Photoshop</span>
                           <span class="skills-tag">Zbrush</span>
                           <span class="skills-tag">Worldmachine</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>레이싱 트랙 코스 레벨 디자인</li>
                           <li>인/아웃게임 배경 구성 및 라이팅</li>
                        </ul>
                     </div>
                  </article>
                  <article class="project-card" onclick="showProjectDetail('적인걸', 'Azworks - 영화 적인걸')" onmouseenter="preloadProjectImages('적인걸')">
                     <img src="./0_Thumnail/적인걸.jpg" alt="영화 적인걸'" class="w-full aspect-video object-cover border-b border-gray-200">
                     <div class="p-6">
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-widest">Azworks</span>
                        <h3 class="text-xl font-extrabold text-gray-900 mt-1">영화 '적인걸'</h3>
                        <p class="text-xs text-gray-500 mb-3">2010.03 ~ 2010.08 | 팀원</p>
                        <div class="flex flex-wrap gap-2 mb-3">
                           <span class="skills-tag">3dsmax / Final Renderer</span>
                           <span class="skills-tag">Photoshop</span>
                           <span class="skills-tag">Zbrush</span>
                           <span class="skills-tag">Nuke</span>
                        </div>
                        <ul class="text-sm text-gray-600 space-y-1 list-disc ml-4">
                           <li>배경 에셋 제작 및 씬 구성</li>
                           <li>씬 라이팅 및 렌더링</li>
                        </ul>
                     </div>
                  </article>
               </div>
            </div>
            <div id="portfolio-detail">
               <div class="py-4 border-b border-gray-100 mb-6 flex justify-between items-center">
                  <button class="back-btn" onclick="hideProjectDetail()">
                     <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
                     </svg>
                     목록으로 돌아가기
                  </button>
                  <h2 id="detail-title" class="text-lg font-bold text-gray-800 pr-2"></h2>
               </div>
               <div id="detail-images-container" class="columns-1 sm:columns-2 md:columns-3 gap-4 w-full">
               </div>
               <div class="text-center mt-10 mb-20">
                  <button class="back-btn" onclick="hideProjectDetail()">목록으로 돌아가기</button>
               </div>
            </div>
         </main>
      </div>
	<div id="image-modal">
         <span class="modal-close" onclick="closeModal()">&times;</span>
         <div class="swiper mySwiper" onclick="event.stopPropagation()">
            <div class="swiper-wrapper" id="swiper-wrapper">
               </div>
            <div class="swiper-button-next modal-nav-btn"></div>
            <div class="swiper-button-prev modal-nav-btn"></div>
            <div class="swiper-pagination"></div>
         </div>
      </div>
<script>
         // 전역 변수
         let savedScrollPosition = 0;
         // ★ Swiper 인스턴스를 담을 변수 추가
         let swiper = null; 
         
         const projectDetails = {
             // ... (기존 프로젝트 데이터는 그대로 두세요. 너무 길어서 생략합니다) ...
             'VALHALLA SURVIVAL': [ { type: 'videos', files: ['./VALHALLA SURVIVAL/Startup_Login_01_v1.mp4', './VALHALLA SURVIVAL/Startup_Login_01_v2.mp4', './VALHALLA SURVIVAL/Startup_Login_01_v3.mp4', './VALHALLA SURVIVAL/ChapterBoss_Mid_Master 1.mp4', './VALHALLA SURVIVAL/ChapterBoss_Jotun_Master 1.mp4', './VALHALLA SURVIVAL/ChapterBoss_Nida_Master 1.mp4', './VALHALLA SURVIVAL/ChapterBoss_Mus_Master 1.mp4'] }, { type: 'images', range: [1, 18] } ],
             'MIGALOO': [ { type: 'images', range: [1, 15] } ], 
             'PUBG NEW STATE': [ { type: 'images', range: [1, 50] } ],
             'PLAN 8': [ { type: 'images', range: [1, 33] } ],
             'FOCUS ON YOU': [ { type: 'images', range: [1, 61] } ],
             'Personal Works': [ { type: 'images', range: [1, 9] } ],
             'ULTIMATE RACE': [ { type: 'images', range: [1, 40] } ],
             '적인걸': [ { type: 'images', range: [1, 6] } ]
         };
         
         // 페이지 로드 시 Swiper 초기화
         window.addEventListener('load', function() {
             swiper = new Swiper(".mySwiper", {
                 slidesPerView: 1,
                 spaceBetween: 30, // 슬라이드 간 간격 (취향껏 조절)
                 loop: true, // 무한 루프
                 keyboard: {
                     enabled: true,
                 },
                 pagination: {
                     el: ".swiper-pagination",
                     clickable: true,
                     dynamicBullets: true, // 점이 많으면 줄여서 보여줌
                 },
                 navigation: {
                     nextEl: ".swiper-button-next",
                     prevEl: ".swiper-button-prev",
                 },
                 // 터치 감도 설정 (기본값도 좋지만 더 민감하게 하려면 조절)
                 touchRatio: 1,
                 touchAngle: 45,
             });
         });

         // ... (showProjectDetail 함수는 아까 수정한 최신 버전 그대로 두세요) ...
         function showProjectDetail(folderName, title) {
             savedScrollPosition = window.scrollY;
             document.getElementById('portfolio-list').style.display = 'none';
             document.getElementById('portfolio-detail').style.display = 'block';
             document.getElementById('detail-title').innerText = title;
             const container = document.getElementById('detail-images-container');
             container.innerHTML = '';
             container.style.opacity = '0';
             container.style.transition = 'opacity 0.4s ease-in-out';
             // 순수 CSS 다단(columns) 사용
             container.className = 'columns-1 sm:columns-2 md:columns-3 gap-3 sm:gap-4 w-full bg-black p-0 sm:p-4 rounded-none sm:rounded-lg';
             const details = projectDetails[folderName];
             const fragment = document.createDocumentFragment();
             const textWrapper = document.createElement('div');
             textWrapper.style.columnSpan = 'all';
             textWrapper.style.WebkitColumnSpan = 'all';
             fragment.appendChild(textWrapper);
             if (details) {
                 details.forEach(block => {
                     if (block.type === 'text') {
                         // ... (텍스트 처리 코드 생략 - 그대로 두세요) ...
                     } else if (block.type === 'videos') {
                         block.files.forEach(file => {
                             const video = document.createElement('video');
                             video.src = file;
                             video.className = 'detail-video';
                             video.style.breakInside = 'avoid';
                             video.autoplay = true; video.muted = true; video.loop = true; video.playsInline = true; video.controls = true;
                             video.onclick = function(e) { e.stopPropagation(); };
                             fragment.appendChild(video); 
                         });
                     } else if (block.type === 'images') {
                         for (let i = block.range[0]; i <= block.range[1]; i++) {
                             appendImage(fragment, folderName, title, i);
                         }
                     }
                 });
             } 
             container.appendChild(fragment);
             window.scrollTo(0, 0);
             requestAnimationFrame(() => { setTimeout(() => { container.style.opacity = '1'; }, 50); });
         }
         
         // ... (preloadProjectImages 함수는 그대로 두세요) ...
         const preloadedProjects = new Set(); 
         function preloadProjectImages(folderName) {
             // ... (내용 생략 - 그대로 두세요) ...
         }
         
         function appendImage(container, folderName, title, index) {
             const img = document.createElement('img');
             img.src = `./${folderName}/${index}.jpg`;
             img.className = 'detail-image';
             img.alt = `${title} Image ${index}`;
             // dataset에 실제 이미지 경로 저장 (Swiper에서 사용)
             img.dataset.fullSrc = img.src;
             img.loading = 'lazy'; 
             img.decoding = 'async'; 
             img.style.opacity = '0';
             img.onload = function() { this.style.opacity = '1'; };
             img.onerror = function() {
                 if (this.src.endsWith('.jpg')) { this.src = `./${folderName}/${index}.png`; img.dataset.fullSrc = this.src; } 
                 else { this.style.display = 'none'; this.classList.remove('detail-image'); }
             };
             // 클릭 시 Swiper 모달 열기
             img.onclick = function() {
                 openModal(this.dataset.fullSrc);
             };
             container.appendChild(img);
         }

         function hideProjectDetail() {
             document.getElementById('portfolio-detail').style.display = 'none';
             document.getElementById('portfolio-list').style.display = 'block';
             const videos = document.querySelectorAll('#detail-images-container video');
             videos.forEach(video => video.pause());
             window.scrollTo(0, savedScrollPosition);
         }
         
         // ★ Swiper를 이용한 모달 열기 함수 (완전히 새로 작성됨) ★
         function openModal(clickedSrc) {
             const modal = document.getElementById('image-modal');
             const swiperWrapper = document.getElementById('swiper-wrapper');
             
             // 1. 현재 화면에 보이는 이미지들을 모두 가져옵니다.
             const images = Array.from(document.querySelectorAll('.detail-image'))
                 .filter(img => img.style.display !== 'none');
             
             // 2. 기존 Swiper 슬라이드들을 모두 비웁니다.
             swiperWrapper.innerHTML = '';
             
             let initialSlideIndex = 0;
             
             // 3. 가져온 이미지들을 Swiper 슬라이드 형식으로 만들어 넣습니다.
             images.forEach((img, index) => {
                 // 클릭한 이미지의 인덱스를 찾습니다.
                 if (img.dataset.fullSrc === clickedSrc) {
                     initialSlideIndex = index;
                 }
                 
                 const slideDiv = document.createElement('div');
                 slideDiv.className = 'swiper-slide';
                 // 실제 고화질 이미지는 모달이 열릴 때 로드되도록 합니다.
                 slideDiv.innerHTML = `<img src="${img.dataset.fullSrc}" alt="Gallery Image">`;
                 swiperWrapper.appendChild(slideDiv);
             });
             
             // 4. 모달을 열고 스크롤을 잠급니다.
             modal.style.display = 'flex';
             document.body.style.overflow = 'hidden';
             
             // 5. Swiper에게 슬라이드가 변경되었음을 알리고, 클릭한 이미지 위치로 이동합니다.
             if (swiper) {
                 swiper.update(); // 중요! 슬라이드 개수가 바뀌었음을 알림
                 // loop 모드일 때는 slideToLoop를 써야 정확한 위치로 갑니다.
                 // 약간의 딜레이를 주어 Swiper가 준비될 시간을 줍니다.
                 setTimeout(() => {
                      swiper.slideToLoop(initialSlideIndex, 0); 
                 }, 10);
             }
         }         
         
         function closeModal() {
             document.getElementById('image-modal').style.display = 'none';
             document.body.style.overflow = ''; 
         }

         // 키보드 이벤트는 Swiper가 알아서 처리하므로 삭제해도 됩니다.
      </script>
	  </body>
</html>